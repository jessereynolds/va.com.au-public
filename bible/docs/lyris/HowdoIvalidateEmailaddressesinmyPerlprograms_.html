<HTML>
<HEAD><TITLE>How do I validate Email addresses in my Perl programs?</TITLE></HEAD>
<body bgcolor="#ffffff" text="#303030" link="#ff0000" vlink="#6666aa" alink="#ffffff"><p><p>



<table border=0 width=100% cellspacing=0 cellpadding=2><tr><td>
</font></td><td align=right>
<b>Lyris User's Guide</b><br>
[<a href="Perl_LyrisToolkit.html">previous</a>] [<a href="Sampleprogram_importlistofemailaddresses.html">next</a>] [<a href="index.html">contents</a>]</td></tr></table>


<table width=100% bgcolor="#aaaaaa" cellspacing=1 cellpadding=0 border=0>
<tr><td>

<table width=100% border=0 bgcolor="#ffffff" cellspacing=1 cellpadding=2>
<tr><td colspan=2 bgcolor="#ffe5cf">

<table border=0 width=100% cellspacing=0 cellpadding=0><tr><td valign=top>
<font size=+2><b>How do I validate Email addresses in my Perl programs?</b></font></td><td align=right>
<FORM ACTION="http://www.lyris.com/cgi-excite/AT-helpsearch.cgi" METHOD=POST>
<TABLE><TR><TD>
<INPUT NAME="search" VALUE="" size=20>
<INPUT TYPE="submit" NAME="searchButton" VALUE="Search"></TD></TR>
<TR><TD>
<INPUT TYPE="hidden" NAME="backlink" VALUE="http://www.lyris.com/help">
<INPUT TYPE="hidden" NAME="bltext" VALUE="Lyris Manual">
</TD></TR></TABLE>
<INPUT TYPE="hidden" NAME="sp" VALUE="sp">
</td></tr></table>

</td></tr>
<tr><td width=30% valign=top bgcolor="#ffffef" >
<font face=arial size=-1>
<a href="index.html">Table of Contents</a><br>
 <a href="Introduction.html">Introduction</a><br>
 <a href="LyrisEmailCommands.html">Lyris Email Commands</a><br>
 <a href="WebInterfaceforUsers.html">Web Interface for Users</a><br>
 <a href="ServerAdministrator.html">Server Administrator</a><br>
 <a href="SiteAdministrator.html">Site Administrator</a><br>
 <a href="ListAdministrator.html">List Administrator</a><br>
 <a href="OtherTopics.html">Other Topics</a><br>
 <a href="Add_OnPackages.html">Add-On Packages</a><br>
 <a href="InstallingandUpgrading.html">Installing and Upgrading</a><br>
 <a href="Appendix.html">Appendix</a><br>
 <a href="FrequentlyAskedQuestions.html">Frequently Asked Questions</a><br>
  <a href="DocBots.html">DocBots</a><br>
  <a href="RunningLyris.html">Running Lyris</a><br>
  <a href="Email.html">Email</a><br>
  <a href="LyrisAdministration.html">Lyris Administration</a><br>
  <a href="WebBrowsers.html">Web Browsers</a><br>
  <a href="UsenetNewsgroups.html">Usenet Newsgroups</a><br>
  <a href="International.html">International</a><br>
  <a href="OtherFAQissues.html">Other FAQ issues</a><br>
  <a href="MailingListFeatures.html">Mailing List Features</a><br>
  <a href="Perl_LyrisToolkit.html">Perl/Lyris Toolkit</a><br>
   <a href="HowdoIvalidateEmailaddressesinmyPerlprograms_.html"><font size=+0><b>How do I validate Email addresses in my Perl programs?</b></font></a><br>
   <a href="Sampleprogram_importlistofemailaddresses.html">Sample program - import list of email addresses</a><br>
   <a href="SampleProgram_importmailinglistarchives.html">Sample Program: import mailing list archives</a><br>
  <a href="UnixAdministration.html">Unix Administration</a><br>
  <a href="Up_Coming.html">Up & Coming</a><br>
</font>
</td><td valign=top>

<table border=0 width=100% cellspacing=0 cellpadding=5><tr><td>
<h3>How do I validate Email addresses in my Perl programs?</h3>
If you are writing your own CGI form for subscribing people, we recommend that you validate the email addresses that are entered on the web form. Otherwise, people will often enter 
invalid email addresses, and then wonder why they are not receiving email from you.  For example, a common mistake is for people to leave the ".com" off their address, as in "bob@aol" or "jane@juno". 
<p>
This Perl subroutine will check to make sure the email address you give it looks valid, trim any starting or trailing white space, and return the email address to you.  If the email address was not 
valid, it will return a blank string. 
<p>
Note that this subroutine does not check that the email address actually exists on the Internet, or that the domain name is valid, only that that the format of the email address is correct.  In our 
experience, this catches the majority of problems. 
<p>
<font face='Courier New'>$a = "john\@somewhere.com"; <br>print &CheckEmailAddress($a);<p>
sub CheckEmailAddress() { <br>#  This regexp validates the format of an email address. It returns the cleaned <br>#  version of the email address, or blank if the address was not 
valid. <br># <br>#  An email address must be of the form: <br>#  1) (trim any spaces or tabs or linefeeds or carriage returns) <br>#  2) (possibly one quotation 
mark) <br>#  3) (one or more characters for username, excepting a quotation mark) <br>#  4) (possibly one quotation mark) <br>#  5) @ <br>#  6) (one or more 
characters for hostname(s), excepting [ &lt;&gt;\t]) <br>#  7) . <br>#  8) (two or more characters for top-level-domain, excepting [ &lt;&gt;\t]) <br>#  9) (trim any spaces or tabs 
or linefeeds or carriage returns) <br># <br>#             1            2  3      4  56        7 8                 9 <br>#             
.............'''.......'''.'''''''''..''''''''''''''''''.............  <br>    $_[0] =~ /[ |\t|\r|\n]*\"?([^\"]+\"?@[^ &lt;&gt;\t]+\.[^ &lt;&gt;\t][^ &lt;&gt;\t]+)[ |\t|\r|\n]*/; <br>  
  return $1; <br>} 
<p>
</font><h2><B></h2></B><p>
<B></B></B><p>

</td></tr></table></td></tr></table></td></tr></table>

<table border=0 width=100% cellspacing=0 cellpadding=2>
<tr><td><b>Other pages which link to this page:</b><br>
<li><a href="Perl_LyrisToolkit.html">Perl/Lyris Toolkit</a><br>
</td><td align=right valign=top>Page 552 of 556</td></tr></table>
</FORM>
</BODY></HTML>
